{"ast":null,"code":"\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar core_1 = require(\"@aws-amplify/core\");\n/**\n* Default cache config\n*/\n\n\nexports.defaultConfig = {\n  keyPrefix: 'aws-amplify-cache',\n  capacityInBytes: 1048576,\n  itemMaxSize: 210000,\n  defaultTTL: 259200000,\n  defaultPriority: 5,\n  warningThreshold: 0.8,\n  // the storage helper will check if localStorage exists,\n  // if not, will use a in-memory object instead\n  storage: new core_1.StorageHelper().getStorage()\n};\n/**\n * return the byte size of the string\n * @param str\n */\n\nfunction getByteLength(str) {\n  var ret = 0;\n  ret = str.length;\n\n  for (var i = str.length; i >= 0; i -= 1) {\n    var charCode = str.charCodeAt(i);\n\n    if (charCode > 0x7f && charCode <= 0x7ff) {\n      ret += 1;\n    } else if (charCode > 0x7ff && charCode <= 0xffff) {\n      ret += 2;\n    } // trail surrogate\n\n\n    if (charCode >= 0xDC00 && charCode <= 0xDFFF) {\n      i -= 1;\n    }\n  }\n\n  return ret;\n}\n\nexports.getByteLength = getByteLength;\n/**\n * get current time\n */\n\nfunction getCurrTime() {\n  var currTime = new Date();\n  return currTime.getTime();\n}\n\nexports.getCurrTime = getCurrTime;\n/**\n * check if passed value is an integer\n */\n\nfunction isInteger(value) {\n  if (Number.isInteger) {\n    return Number.isInteger(value);\n  }\n\n  return _isInteger(value);\n}\n\nexports.isInteger = isInteger;\n\nfunction _isInteger(value) {\n  return typeof value === 'number' && isFinite(value) && Math.floor(value) === value;\n}\n/**\n * provide an object as the in-memory cache\n */\n\n\nvar store = {};\n\nvar CacheObject =\n/** @class */\nfunction () {\n  function CacheObject() {}\n\n  CacheObject.clear = function () {\n    store = {};\n  };\n\n  CacheObject.getItem = function (key) {\n    return store[key] || null;\n  };\n\n  CacheObject.setItem = function (key, value) {\n    store[key] = value;\n  };\n\n  CacheObject.removeItem = function (key) {\n    delete store[key];\n  };\n\n  return CacheObject;\n}();\n\nexports.CacheObject = CacheObject;","map":{"version":3,"sources":["../../src/Utils/CacheUtils.ts"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;AAcA,IAAA,MAAA,GAAA,OAAA,CAAA,mBAAA,CAAA;AACA;;;;;AAGa,OAAA,CAAA,aAAA,GAA6B;AACtC,EAAA,SAAS,EAAE,mBAD2B;AAEtC,EAAA,eAAe,EAAE,OAFqB;AAGtC,EAAA,WAAW,EAAE,MAHyB;AAItC,EAAA,UAAU,EAAE,SAJ0B;AAKtC,EAAA,eAAe,EAAE,CALqB;AAMtC,EAAA,gBAAgB,EAAE,GANoB;AAOtC;AACA;AACA,EAAA,OAAO,EAAE,IAAI,MAAA,CAAA,aAAJ,GAAoB,UAApB;AAT6B,CAA7B;AAYb;;;;;AAIA,SAAA,aAAA,CAA8B,GAA9B,EAAyC;AACrC,MAAI,GAAG,GAAW,CAAlB;AACA,EAAA,GAAG,GAAG,GAAG,CAAC,MAAV;;AAEA,OAAK,IAAI,CAAC,GAAG,GAAG,CAAC,MAAjB,EAAyB,CAAC,IAAI,CAA9B,EAAiC,CAAC,IAAI,CAAtC,EAAyC;AACrC,QAAM,QAAQ,GAAW,GAAG,CAAC,UAAJ,CAAe,CAAf,CAAzB;;AACA,QAAI,QAAQ,GAAG,IAAX,IAAmB,QAAQ,IAAI,KAAnC,EAA0C;AACtC,MAAA,GAAG,IAAI,CAAP;AACH,KAFD,MAEO,IAAI,QAAQ,GAAG,KAAX,IAAoB,QAAQ,IAAI,MAApC,EAA4C;AAC/C,MAAA,GAAG,IAAI,CAAP;AACH,KANoC,CAOrC;;;AACA,QAAI,QAAQ,IAAI,MAAZ,IAAsB,QAAQ,IAAI,MAAtC,EAA8C;AAC1C,MAAA,CAAC,IAAI,CAAL;AACH;AACJ;;AAED,SAAO,GAAP;AACH;;AAlBD,OAAA,CAAA,aAAA,GAAA,aAAA;AAoBA;;;;AAGA,SAAA,WAAA,GAAA;AACI,MAAM,QAAQ,GAAG,IAAI,IAAJ,EAAjB;AACA,SAAO,QAAQ,CAAC,OAAT,EAAP;AACH;;AAHD,OAAA,CAAA,WAAA,GAAA,WAAA;AAKA;;;;AAGA,SAAA,SAAA,CAA0B,KAA1B,EAA+B;AAC3B,MAAI,MAAM,CAAC,SAAX,EAAsB;AAClB,WAAO,MAAM,CAAC,SAAP,CAAiB,KAAjB,CAAP;AACH;;AAED,SAAO,UAAU,CAAC,KAAD,CAAjB;AACH;;AAND,OAAA,CAAA,SAAA,GAAA,SAAA;;AAQA,SAAA,UAAA,CAAoB,KAApB,EAAyB;AACrB,SAAO,OAAO,KAAP,KAAiB,QAAjB,IAA6B,QAAQ,CAAC,KAAD,CAArC,IAAgD,IAAI,CAAC,KAAL,CAAW,KAAX,MAAsB,KAA7E;AACH;AAED;;;;;AAGA,IAAI,KAAK,GAAG,EAAZ;;AACA,IAAA,WAAA;AAAA;AAAA,YAAA;AAAA,WAAA,WAAA,GAAA,CAgBC;;AAfU,EAAA,WAAA,CAAA,KAAA,GAAP,YAAA;AACI,IAAA,KAAK,GAAG,EAAR;AACH,GAFM;;AAIA,EAAA,WAAA,CAAA,OAAA,GAAP,UAAe,GAAf,EAA0B;AACtB,WAAO,KAAK,CAAC,GAAD,CAAL,IAAc,IAArB;AACH,GAFM;;AAIA,EAAA,WAAA,CAAA,OAAA,GAAP,UAAe,GAAf,EAA4B,KAA5B,EAAyC;AACrC,IAAA,KAAK,CAAC,GAAD,CAAL,GAAa,KAAb;AACH,GAFM;;AAIA,EAAA,WAAA,CAAA,UAAA,GAAP,UAAkB,GAAlB,EAA6B;AACzB,WAAO,KAAK,CAAC,GAAD,CAAZ;AACH,GAFM;;AAGX,SAAA,WAAA;AAAC,CAhBD,EAAA;;AAAa,OAAA,CAAA,WAAA,GAAA,WAAA","sourceRoot":"","sourcesContent":["\"use strict\";\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@aws-amplify/core\");\n/**\n* Default cache config\n*/\nexports.defaultConfig = {\n    keyPrefix: 'aws-amplify-cache',\n    capacityInBytes: 1048576,\n    itemMaxSize: 210000,\n    defaultTTL: 259200000,\n    defaultPriority: 5,\n    warningThreshold: 0.8,\n    // the storage helper will check if localStorage exists,\n    // if not, will use a in-memory object instead\n    storage: new core_1.StorageHelper().getStorage()\n};\n/**\n * return the byte size of the string\n * @param str\n */\nfunction getByteLength(str) {\n    var ret = 0;\n    ret = str.length;\n    for (var i = str.length; i >= 0; i -= 1) {\n        var charCode = str.charCodeAt(i);\n        if (charCode > 0x7f && charCode <= 0x7ff) {\n            ret += 1;\n        }\n        else if (charCode > 0x7ff && charCode <= 0xffff) {\n            ret += 2;\n        }\n        // trail surrogate\n        if (charCode >= 0xDC00 && charCode <= 0xDFFF) {\n            i -= 1;\n        }\n    }\n    return ret;\n}\nexports.getByteLength = getByteLength;\n/**\n * get current time\n */\nfunction getCurrTime() {\n    var currTime = new Date();\n    return currTime.getTime();\n}\nexports.getCurrTime = getCurrTime;\n/**\n * check if passed value is an integer\n */\nfunction isInteger(value) {\n    if (Number.isInteger) {\n        return Number.isInteger(value);\n    }\n    return _isInteger(value);\n}\nexports.isInteger = isInteger;\nfunction _isInteger(value) {\n    return typeof value === 'number' && isFinite(value) && Math.floor(value) === value;\n}\n/**\n * provide an object as the in-memory cache\n */\nvar store = {};\nvar CacheObject = /** @class */ (function () {\n    function CacheObject() {\n    }\n    CacheObject.clear = function () {\n        store = {};\n    };\n    CacheObject.getItem = function (key) {\n        return store[key] || null;\n    };\n    CacheObject.setItem = function (key, value) {\n        store[key] = value;\n    };\n    CacheObject.removeItem = function (key) {\n        delete store[key];\n    };\n    return CacheObject;\n}());\nexports.CacheObject = CacheObject;\n//# sourceMappingURL=CacheUtils.js.map"]},"metadata":{},"sourceType":"script"}