{"ast":null,"code":"import _regeneratorRuntime from \"/Users/JohnnyReichman/Documents/independent_work/fullstack_template/JTR_fullstack_template/assets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/JohnnyReichman/Documents/independent_work/fullstack_template/JTR_fullstack_template/assets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/JohnnyReichman/Documents/independent_work/fullstack_template/JTR_fullstack_template/assets/src/modules/signup/Home.tsx\";\nimport React, { Component } from \"react\";\nimport { Button, Table, Spinner } from \"react-bootstrap\";\nimport API from \"@aws-amplify/api\";\nimport { Redirect } from \"react-router-dom\";\nimport fullStack from \"../../images/full-stack.png\";\nimport \"./home.css\";\nexport default class Home extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onCreate = () => {\n      this.setState({\n        redirect: true\n      });\n    };\n\n    this.state = {\n      isLoading: true,\n      goals: [],\n      redirect: false\n    };\n  }\n\n  componentDidMount() {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var goals;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            if (_this.props.isAuthenticated) {\n              _context.next = 2;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 2:\n            _context.prev = 2;\n            _context.next = 5;\n            return _this.goals();\n\n          case 5:\n            goals = _context.sent;\n\n            _this.setState({\n              goals\n            });\n\n            _context.next = 12;\n            break;\n\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](2);\n            alert(_context.t0);\n\n          case 12:\n            _this.setState({\n              isLoading: false\n            });\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[2, 9]]);\n    }))();\n  }\n\n  goals() {\n    return API.get(\"goals\", \"/goals\", null);\n  }\n\n  renderGoalsList(goals) {\n    let goalsList = [];\n    return goalsList.concat(goals).map((goal, i) => /*#__PURE__*/React.createElement(\"tr\", {\n      key: goal.goalId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/goal/\".concat(goal.goalId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 15\n      }\n    }, goal.title)), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 15\n      }\n    }, goal.content.trim().split(\"\\n\")[0])), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }\n    }, new Date(goal.createdAt).toLocaleString())));\n  }\n\n  renderLanding() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"lander\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }\n    }, \"AWS Goals App\"), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }\n    }, \"This is a sample application that creates a simple CRUD (create, read, update, delete) app, and provides the foundational services, components, and plumbing needed to get a basic web application up and running. In this \\\"goals\\\" app, users can create goals, add descriptions, and update or remove their goals. You can get this sample application up and running in your own environment and learn more about the architecture of the app by looking at the \", /*#__PURE__*/React.createElement(\"a\", {\n      className: \"orange-link\",\n      href: \"https://github.com/awslabs/aws-full-stack-template\",\n      target: \"_blank\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 462\n      }\n    }, \"github repository\"), \".\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"button-container col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/signup\",\n      className: \"orange-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }\n    }, \"Sign up to explore the demo\")), /*#__PURE__*/React.createElement(\"img\", {\n      src: fullStack,\n      className: \"img-fluid full-width\",\n      alt: \"Screenshot\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  renderHome() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"goals\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }\n    }, \"Goals\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mb-3 float-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      onClick: this.onCreate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }\n    }, \"Create new goal\")), /*#__PURE__*/React.createElement(Table, {\n      variant: \"dark'\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 15\n      }\n    }, \"Goal name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 15\n      }\n    }, \"Description\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 15\n      }\n    }, \"Date created\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }\n    }, this.state.isLoading ? /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Spinner, {\n      animation: \"border\",\n      className: \"center-spinner\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 21\n      }\n    }))) : this.renderGoalsList(this.state.goals))));\n  }\n\n  render() {\n    let redirect = this.state.redirect;\n\n    if (redirect) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        push: true,\n        to: '/goal/',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 14\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Home\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 7\n      }\n    }, this.props.isAuthenticated ? this.renderHome() : this.renderLanding());\n  }\n\n}","map":{"version":3,"sources":["/Users/JohnnyReichman/Documents/independent_work/fullstack_template/JTR_fullstack_template/assets/src/modules/signup/Home.tsx"],"names":["React","Component","Button","Table","Spinner","API","Redirect","fullStack","Home","constructor","props","onCreate","setState","redirect","state","isLoading","goals","componentDidMount","isAuthenticated","alert","get","renderGoalsList","goalsList","concat","map","goal","i","goalId","title","content","trim","split","Date","createdAt","toLocaleString","renderLanding","renderHome","render"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,OAAxB,QAAuC,iBAAvC;AACA,OAAOC,GAAP,MAAgB,kBAAhB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AAEA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAO,YAAP;AAmBA,eAAe,MAAMC,IAAN,SAAmBP,SAAnB,CAAmD;AAChEQ,EAAAA,WAAW,CAACC,KAAD,EAAmB;AAC5B,UAAMA,KAAN;;AAD4B,SA0C9BC,QA1C8B,GA0CnB,MAAM;AACf,WAAKC,QAAL,CAAc;AAAEC,QAAAA,QAAQ,EAAE;AAAZ,OAAd;AACD,KA5C6B;;AAG5B,SAAKC,KAAL,GAAa;AACXC,MAAAA,SAAS,EAAE,IADA;AAEXC,MAAAA,KAAK,EAAE,EAFI;AAGXH,MAAAA,QAAQ,EAAE;AAHC,KAAb;AAKD;;AAEKI,EAAAA,iBAAN,GAA0B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACnB,KAAI,CAACP,KAAL,CAAWQ,eADQ;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA,mBAMF,KAAI,CAACF,KAAL,EANE;;AAAA;AAMhBA,YAAAA,KANgB;;AAOtB,YAAA,KAAI,CAACJ,QAAL,CAAc;AAAEI,cAAAA;AAAF,aAAd;;AAPsB;AAAA;;AAAA;AAAA;AAAA;AAStBG,YAAAA,KAAK,aAAL;;AATsB;AAYxB,YAAA,KAAI,CAACP,QAAL,CAAc;AAAEG,cAAAA,SAAS,EAAE;AAAb,aAAd;;AAZwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAazB;;AAEDC,EAAAA,KAAK,GAAG;AACN,WAAOX,GAAG,CAACe,GAAJ,CAAQ,OAAR,EAAiB,QAAjB,EAA2B,IAA3B,CAAP;AACD;;AAEDC,EAAAA,eAAe,CAACL,KAAD,EAAgB;AAC7B,QAAIM,SAAiB,GAAG,EAAxB;AAEA,WAAOA,SAAS,CAACC,MAAV,CAAiBP,KAAjB,EAAwBQ,GAAxB,CACL,CAACC,IAAD,EAAOC,CAAP,kBACE;AAAI,MAAA,GAAG,EAAED,IAAI,CAACE,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAI;AAAG,MAAA,IAAI,kBAAWF,IAAI,CAACE,MAAhB,CAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAkCF,IAAI,CAACG,KAAvC,CAAJ,CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAI;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA8BH,IAAI,CAACI,OAAL,CAAaC,IAAb,GAAoBC,KAApB,CAA0B,IAA1B,EAAgC,CAAhC,CAA9B,CAAJ,CAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK,IAAIC,IAAJ,CAASP,IAAI,CAACQ,SAAd,EAAyBC,cAAzB,EAAL,CAHF,CAFG,CAAP;AAQD;;AAMDC,EAAAA,aAAa,GAAG;AACd,wBACE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4dAAqc;AAAG,MAAA,SAAS,EAAC,aAAb;AAA2B,MAAA,IAAI,EAAC,oDAAhC;AAAqF,MAAA,MAAM,EAAC,QAA5F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAArc,MAHF,eAIE;AAAK,MAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAG,MAAA,IAAI,EAAC,SAAR;AAAkB,MAAA,SAAS,EAAC,aAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCADF,CAJF,eAOE;AAAK,MAAA,GAAG,EAAE5B,SAAV;AAAqB,MAAA,SAAS,EAAC,sBAA/B;AAAsD,MAAA,GAAG,EAAC,YAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,CADF;AAUD;;AAED6B,EAAAA,UAAU,GAAG;AACX,wBACE;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,eAEE;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,SAAhB;AAA0B,MAAA,OAAO,EAAE,KAAKzB,QAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,CAFF,eAKE,oBAAC,KAAD;AAAO,MAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHF,CADF,CADF,eAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEM,KAAKG,KAAL,CAAWC,SAAX,gBAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACF,oBAAC,OAAD;AAAS,MAAA,SAAS,EAAC,QAAnB;AAA4B,MAAA,SAAS,EAAC,gBAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADE,CAAJ,CAFF,GAMA,KAAKM,eAAL,CAAqB,KAAKP,KAAL,CAAWE,KAAhC,CARN,CARF,CALF,CADF;AA4BD;;AAEDqB,EAAAA,MAAM,GAAG;AAAA,QACDxB,QADC,GACY,KAAKC,KADjB,CACDD,QADC;;AAEP,QAAIA,QAAJ,EAAc;AACZ,0BAAO,oBAAC,QAAD;AAAU,QAAA,IAAI,MAAd;AAAe,QAAA,EAAE,EAAE,QAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD;;AAED,wBACE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKH,KAAL,CAAWQ,eAAX,GAA6B,KAAKkB,UAAL,EAA7B,GAAiD,KAAKD,aAAL,EADpD,CADF;AAKD;;AAtG+D","sourcesContent":["import React, { Component } from \"react\";\nimport { Button, Table, Spinner } from \"react-bootstrap\";\nimport API from \"@aws-amplify/api\";\nimport { Redirect } from \"react-router-dom\";\n\nimport fullStack from \"../../images/full-stack.png\";\nimport \"./home.css\";\n\ninterface HomeProps {\n  isAuthenticated: boolean;\n}\n\ninterface HomeState {\n  isLoading: boolean;\n  goals: Goal[];\n  redirect: boolean;\n}\n\ninterface Goal {\n  content: string;\n  goalId: string;\n  title: string;\n  createdAt: Date;\n}\n\nexport default class Home extends Component<HomeProps, HomeState> {\n  constructor(props: HomeProps) {\n    super(props);\n\n    this.state = {\n      isLoading: true,\n      goals: [],\n      redirect: false,\n    };\n  }\n\n  async componentDidMount() {\n    if (!this.props.isAuthenticated) {\n      return;\n    }\n\n    try {\n      const goals = await this.goals();\n      this.setState({ goals });\n    } catch (e) {\n      alert(e);\n    }\n\n    this.setState({ isLoading: false });\n  }\n\n  goals() {\n    return API.get(\"goals\", \"/goals\", null);\n  }\n\n  renderGoalsList(goals: Goal[]) {\n    let goalsList: Goal[] = [];\n\n    return goalsList.concat(goals).map(\n      (goal, i) =>\n        <tr key={goal.goalId}>\n          <td><a href={`/goal/${goal.goalId}`}>{goal.title}</a></td>\n          <td><div className=\"description\">{goal.content.trim().split(\"\\n\")[0]}</div></td>\n          <td>{new Date(goal.createdAt).toLocaleString()}</td>\n        </tr>\n    );\n  }\n\n  onCreate = () => {\n    this.setState({ redirect: true });\n  }\n\n  renderLanding() {\n    return (\n      <div className=\"lander\">\n        <h2>AWS Goals App</h2>\n        <hr />\n        <p>This is a sample application that creates a simple CRUD (create, read, update, delete) app, and provides the foundational services, components, and plumbing needed to get a basic web application up and running. In this \"goals\" app, users can create goals, add descriptions, and update or remove their goals. You can get this sample application up and running in your own environment and learn more about the architecture of the app by looking at the <a className=\"orange-link\" href=\"https://github.com/awslabs/aws-full-stack-template\" target=\"_blank\">github repository</a>.</p>\n        <div className=\"button-container col-md-12\">\n          <a href=\"/signup\" className=\"orange-link\">Sign up to explore the demo</a>\n        </div>\n        <img src={fullStack} className=\"img-fluid full-width\" alt=\"Screenshot\"></img>\n      </div>);\n  }\n\n  renderHome() {\n    return (\n      <div className=\"goals\">\n        <h1 className=\"text-center\">Goals</h1>\n        <div className=\"mb-3 float-right\">\n          <Button variant=\"primary\" onClick={this.onCreate}>Create new goal</Button>\n        </div>\n        <Table variant=\"dark'\">\n          <thead>\n            <tr>\n              <th>Goal name</th>\n              <th>Description</th>\n              <th>Date created</th>\n            </tr>\n          </thead>\n          <tbody>\n              {\n                this.state.isLoading ?\n                (\n                  <tr><td>\n                    <Spinner animation=\"border\" className=\"center-spinner\" />\n                  </td></tr>\n                ) :\n                this.renderGoalsList(this.state.goals)\n            }\n          </tbody>\n        </Table>\n      </div>\n    );\n  }\n\n  render() {\n    let { redirect } = this.state;\n    if (redirect) {\n      return <Redirect push to={'/goal/'} />;\n    }\n\n    return (\n      <div className=\"Home\">\n        {this.props.isAuthenticated ? this.renderHome() : this.renderLanding()}\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}